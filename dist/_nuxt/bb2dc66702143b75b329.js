(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{383:function(e,t,o){var content=o(473);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(12).default)("4ca1cdc4",content,!0,{sourceMap:!1})},384:function(e,t,o){var content=o(481);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(12).default)("f2f90d64",content,!0,{sourceMap:!1})},385:function(e,t,o){var content=o(489);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(12).default)("6f178d4f",content,!0,{sourceMap:!1})},427:function(e,t){},472:function(e,t,o){"use strict";var n=o(383);o.n(n).a},473:function(e,t,o){(e.exports=o(11)(!1)).push([e.i,".mark{color:#add8e6}.summary-text{text-justify:inner-word;text-align:justify;color:#fafad2!important;font-family:sans-serif;font-size:14px}",""])},480:function(e,t,o){"use strict";var n=o(384);o.n(n).a},481:function(e,t,o){(e.exports=o(11)(!1)).push([e.i,"div.tooltip h4{color:#f08080}div.tooltip h5{color:#fafad2;font:.7em sans-serif}.wiki-link{font:.6em sans-serif!important;color:#add8e6}",""])},482:function(e,t,o){var content=o(483);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(12).default)("46b90e68",content,!0,{sourceMap:!1})},483:function(e,t,o){(e.exports=o(11)(!1)).push([e.i,".vjs-thumbnail-holder{position:absolute;left:-1000px;width:192px;height:108px;overflow:hidden;bottom:1.3em;border:3px solid #000}.vjs-thumbnail{position:absolute;left:0;opacity:0;transition:opacity .2s ease;-webkit-transition:opacity .2s ease;-moz-transition:opacity .2s ease;-mz-transition:opacity .2s ease}.vjs-progress-control.fake-active .vjs-thumbnail,.vjs-progress-control:active .vjs-thumbnail,.vjs-progress-control:hover .vjs-thumbnail{opacity:1}.vjs-progress-control:active .vjs-thumbnail:active,.vjs-progress-control:hover .vjs-thumbnail:hover{opacity:0}",""])},486:function(e,t,o){var content=o(487);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(12).default)("77cb61b6",content,!0,{sourceMap:!1})},487:function(e,t,o){(e.exports=o(11)(!1)).push([e.i,".video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:10em}.video-js .vjs-controls-disabled .vjs-big-play-button{display:none!important}.video-js .vjs-control{width:3em}.video-js .vjs-menu-button-inline:before{width:1.5em}.vjs-menu-button-inline .vjs-menu{left:3em}.video-js.vjs-ended .vjs-big-play-button,.video-js.vjs-paused .vjs-big-play-button,.vjs-paused.vjs-has-started.video-js .vjs-big-play-button{display:block}.video-js .vjs-load-progress div,.vjs-seeking .vjs-big-play-button,.vjs-waiting .vjs-big-play-button{display:none!important}.video-js .vjs-mouse-display:after,.video-js .vjs-play-progress:after{padding:0 .4em .3em}.video-js.vjs-ended .vjs-loading-spinner{display:none}.video-js.vjs-ended .vjs-big-play-button{display:block!important}.video-js *,.video-js:after,.video-js:before{box-sizing:inherit;font-size:inherit;color:inherit;line-height:inherit}.video-js.vjs-fullscreen,.video-js.vjs-fullscreen .vjs-tech{width:100%!important;height:100%!important}.video-js{font-size:14px;overflow:hidden}.video-js .vjs-control{color:inherit}.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:8.35em}.video-js .vjs-volume-menu-button.vjs-volume-menu-button-horizontal:hover .vjs-menu .vjs-menu-content{height:3em;width:6.35em}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff,0 0 1em #fff,0 0 1em #fff}.video-js .vjs-spacer,.video-js .vjs-time-control{display:flex;flex:1 1 auto}.video-js .vjs-time-control{flex:0 1 auto;width:auto}.video-js .vjs-time-control.vjs-time-divider{width:14px}.video-js .vjs-time-control.vjs-time-divider div{width:100%;text-align:center}.video-js .vjs-time-control.vjs-current-time{margin-left:1em}.video-js .vjs-time-control .vjs-current-time-display,.video-js .vjs-time-control .vjs-duration-display{width:100%}.video-js .vjs-time-control .vjs-current-time-display{text-align:right}.video-js .vjs-time-control .vjs-duration-display{text-align:left}.video-js.vjs-live .vjs-time-control.vjs-current-time,.video-js.vjs-live .vjs-time-control.vjs-duration,.video-js.vjs-live .vjs-time-control.vjs-time-divider,.video-js.vjs-no-flex .vjs-time-control.vjs-remaining-time,.video-js .vjs-play-progress:before,.video-js .vjs-progress-control .vjs-play-progress:before,.video-js .vjs-remaining-time,.video-js .vjs-volume-level:after,.video-js .vjs-volume-level:before{display:none}.video-js.vjs-no-flex .vjs-time-control{display:table-cell;width:4em}.video-js .vjs-progress-control{position:absolute;left:0;right:0;width:100%;height:.5em;top:-.5em}.video-js .vjs-progress-control .vjs-load-progress,.video-js .vjs-progress-control .vjs-play-progress,.video-js .vjs-progress-control .vjs-progress-holder{height:100%}.video-js .vjs-progress-control .vjs-progress-holder{margin:0}.video-js .vjs-progress-control:hover{height:1.5em;top:-1.5em}.video-js .vjs-control-bar{transition:transform .1s ease 0s}.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-active .vjs-control-bar,.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive .vjs-control-bar,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-active .vjs-control-bar,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-control-bar,.video-js.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-control-bar{visibility:visible;opacity:1;-webkit-backface-visibility:hidden;transform:translateY(3em);transition:transform 1s ease 0s}.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-active .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-active .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-progress-control,.video-js.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-progress-control{height:.25em;top:-.25em;pointer-events:none;transition:height 1s,top 0s}.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-active.vjs-fullscreen .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive.vjs-fullscreen .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-active.vjs-fullscreen .vjs-progress-control,.video-js.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive.vjs-fullscreen .vjs-progress-control,.video-js.vjs-has-started.vjs-playing.vjs-user-inactive.vjs-fullscreen .vjs-progress-control{opacity:0;transition:opacity 1s ease 0s}.video-js.vjs-live .vjs-live-control{margin-left:1em}.video-js .vjs-big-play-button{top:50%;left:50%;margin-left:-1em;margin-top:-1em;width:2em;height:2em;line-height:2em;border:none;background-color:rgba(0,0,0,.45);color:#fff;transition:border-color .4s,outline .4s,background-color .4s}.video-js .vjs-menu-button-popup .vjs-menu{left:-3em}.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:transparent;width:12em;left:-1.5em;padding-bottom:.5em}.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-item,.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-title{background-color:#151b17;margin:.3em 0;padding:.5em;border-radius:.3em}.video-js .vjs-menu-button-popup .vjs-menu .vjs-menu-item.vjs-selected{background-color:#2483d5}.video-js .vjs-big-play-button{background-color:#000;font-size:3.5em;border-radius:50%;height:2em!important;line-height:2em!important;margin-top:-1em!important}.video-js .vjs-big-play-button:active,.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{background-color:#000}.video-js .vjs-loading-spinner{border-color:#000}.video-js .vjs-control-bar2{background-color:#000}.video-js .vjs-control-bar{background-color:#000!important;color:#fff;font-size:.7rem}.video-js .vjs-play-progress,.video-js .vjs-volume-level{background-color:#2483d5}",""])},488:function(e,t,o){"use strict";var n=o(385);o.n(n).a},489:function(e,t,o){(e.exports=o(11)(!1)).push([e.i,".video-js{width:100%;height:100%;min-height:320px;min-width:320px}.video-js .vjs-text-track-display>div>div>div{font-size:1.3rem!important;line-height:1.2rem!important;padding:5px!important;background:transparent!important;text-shadow:1px 2px 2px #000;display:inline-block!important}.wordcloud-container{border:4px solid rgba(85,85,85,.33333);border-radius:15px}.sub-list.v-list.v-sheet{position:absolute;width:35%;z-index:1}.sub-item.v-list-item:hover{background-color:#555;transition:.4s}",""])},497:function(e,t,o){"use strict";o.r(t);o(123);var n=o(18),r=(o(5),o(4),o(425),o(490)),l=(o(53),o(19)),v=o(471),c=o.n(v),d=(o(48),o(209),{props:{fwl:{type:Array,default:function(){return[]}},sumSizes:{type:Array,default:function(){return[.2,.4,.6,.8]}},texts:{type:Object,default:function(){return{.2:"loading",.4:"loading",.6:"loading",.8:"loading"}}}},data:function(){return{tab:null,test:"<b>1</b>"}},mounted:function(){var e=this;this.sumSizes.forEach(function(t){e.fwl.forEach(function(o){var n=new RegExp("".concat(o),"gi");e.texts[t]=e.texts[t].replace(n,"<span class='mark'>".concat(o,"</span>"))})})}}),j=(o(472),o(47)),m=o(68),h=o.n(m),f=o(148),y=o(156),w=o(142),x=o(496),k=o(509),_=o(507),C=o(491),component=Object(j.a)(d,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",{staticStyle:{overflow:"auto"},attrs:{height:"500px"}},[o("v-card-title",{staticClass:"text-center justify-center py-6"},[o("v-label",[e._v("Summary")])],1),e._v(" "),o("v-tabs",{attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.sumSizes,function(t){return o("v-tab",{key:t},[e._v("\n      "+e._s(t)+"\n    ")])}),1),e._v(" "),o("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.sumSizes,function(t){return o("v-tab-item",{key:t},[o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticClass:"summary-text"},[o("span",{domProps:{innerHTML:e._s(e.texts[t])}})])],1)],1)}),1)],1)},[],!1,null,null,null),T=component.exports;h()(component,{VCard:f.a,VCardText:y.b,VCardTitle:y.c,VLabel:w.a,VTab:x.a,VTabItem:k.a,VTabs:_.a,VTabsItems:C.a});var V,z,I,L={props:{words:{type:Array,default:function(){return[]}}},computed:{svg:function(){return document.querySelector("svg")}},watch:{},methods:{wordClickHandler:function(e,t,o){this.$axios.$get("https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=".concat(e,"&limit=1&namespace=0&format=json")).then(function(data){window.open(data[3][0],"_blank").focus()})}}},S=(o(480),Object(j.a)(L,function(){var e=this.$createElement;return(this._self._c||e)("wordcloud",{attrs:{data:this.words,"name-key":"name","value-key":"value","show-tooltip":!1,"font-size":[11,50],"font-scale":"log",rotate:{from:0,to:0,numOfOrientation:1},"word-click":this.wordClickHandler}})},[],!1,null,null,null).exports);V=r.a,z=function(e,t){return function(o){return window.getComputedStyle?window.getComputedStyle(e,t)[o]:e.currentStyle[o]}},I=function e(t){return"HTML"!==t.nodeName&&"static"===z(t)("position")?e(t.offsetParent):t},V.plugin("thumbnails",function(e){var div,t,img,o,n,r,v,c,d;t=e,o=this,function(){var e,t,n;-1!==navigator.userAgent.toLowerCase().indexOf("android")&&(t=function(){e.addClass("fake-active")},n=function(){e.removeClass("fake-active")},(e=o.controlBar.progressControl).on("touchstart",t),e.on("touchend",n),e.on("touchcancel",n))}(),(div=document.createElement("div")).className="vjs-thumbnail-holder",img=document.createElement("img"),div.appendChild(img),v=0,img.onload=function(){v=this.height/108},img.src=t.src,img.className="vjs-thumbnail",function e(){var t,o,i,object,n;for(i in o=(t=Array.prototype.slice.call(arguments)).shift()||{},t)for(n in object=t[i])object.hasOwnProperty(n)&&("object"===Object(l.a)(object[n])?o[n]=e(o[n],object[n]):o[n]=object[n]);return o}(img.style,t.style),r=o.duration(),o.on("durationchange",function(e){r=o.duration()}),o.on("loadedmetadata",function(e){r=o.duration()}),(n=o.controlBar.progressControl).el().appendChild(div),c=function(e){var o,time,l,c,d,j,m,h,f;h=(window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}).x,j=((f=I(n.el()).getBoundingClientRect()).width||f.right)+h,d=e.pageX,e.changedTouches&&(d=e.changedTouches[0].pageX),c=d||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c-=I(n.el()).getBoundingClientRect().left+h,o=Math.floor((c-n.el().offsetLeft)/n.width()*r),time=r/v,l=Math.round(o/time),img.style.top="".concat(-108*l,"px"),c+(m=function(e,t){var o;return t?parseFloat(t):"auto"!==(o=z(e)("clip"))&&"inherit"!==o&&4===(o=o.split(/(?:\(|\))/)[1].split(/(?:,| )/)).length?parseFloat(o[1])-parseFloat(o[3]):0}(img,t.width||192)/2)>j?c-=c+m-j:c<m&&(c=m),div.style.left=c-m+"px"},n.on("mousemove",c),n.on("touchmove",c),d=function(e){div.style.left="-1000px"},n.on("mouseout",d),n.on("touchcancel",d),n.on("touchend",d),o.on("userinactive",d)}),o(482),o(484),o(486);var $={name:"VideoPlayer",components:{Summary:T,Wordcloud:S},props:{options:{type:Object,default:function(){return{controls:!0,playbackRates:[.5,.72,1,1.5,2],hls:{withCredentials:!1}}}}},data:function(){return{video_data:{en:{}},words:[],player:null,model:null,search:null,subDrawer:!1,isLoading:!1}},computed:{videoId:function(){return this.$route.query.v},thumbnail_id:function(){return 1e4},language:function(){return"th"},subId:{get:function(){return this.$store.state.watch.sid},set:function(e){}},search_sub:function(){return this.$store.state.video.search_sub},lang:function(){return this.$store.state.locale}},watch:{subId:function(e){var t=this;this.words=Object.entries(this.video_data.en.wc[this.subId]).map(function(e){var o=Object(n.a)(e,2),r=o[0],l=o[1];return{name:t.video_data.en.fwl[r],value:l}})},search:function(e){var t=this;if(!this.isLoading){this.isLoading=!0,this.subDrawer=!1;var o=this.videoId;this.$store.dispatch("video/search_sub",{vid:o,query:e}).catch(function(e){console.log(e)}).finally(function(){t.isLoading=!1,t.subDrawer=!0})}},lang:{immediate:!0,handler:function(e){var t=this,o=this.$route.query.v;if(this.$axios.$get("/docker/videos/".concat(o,"/data_").concat(e,".json")).then(function(e){t.video_data.en=e,t.$store.commit("watch/SET_SID",t.subId+1)}),this.player)for(var n=this.player.textTracks(),i=0;i<n.length;i++){var track=n[i];track.language===e?track.mode="showing":track.mode="hidden"}}}},mounted:function(){var e=this.$route.query.v,t=this.$store,o=this;this.player=Object(r.a)(this.$refs.videoPlayer,this.options,function(){this.on("loadedmetadata",function(){for(var e=this,n=function(i){var n=e.textTracks()[i];n.language===o.lang?n.mode="showing":n.mode="hidden",n.on("cuechange",function(){var e;e=c.a.findIndex(n.cues,function(e){return e.text===n.activeCues[0].text}),t.commit("watch/SET_SID",e)})},i=1;i<this.textTracks().length;i++)n(i)})}),this.player.thumbnails({src:"/cl/api/docker/videos/".concat(e,"/sprite.jpg")})},beforeDestroy:function(){this.player&&this.player.dispose()},methods:{handleBlur:function(){this.subDrawer=!1},handleFocus:function(){this.subDrawer=!0},setTime:function(e){console.log(e),this.player.currentTime(e)}}},O=(o(488),o(357)),E=o(351),D=o(410),M=o(387),A=o(66),P=o(144),B=o(86),R=o(411),F=Object(j.a)($,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"inspire"}},[o("v-container",[o("v-row",[o("v-col",[o("div",[o("v-autocomplete",{attrs:{label:"Search in video",items:e.video_data.en.fwl,"search-input":e.search},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},focus:e.handleFocus,blur:e.handleBlur},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),o("v-expand-transition",[e.subDrawer&&e.search_sub?o("v-list",{staticClass:"sub-list"},e._l(e.search_sub,function(sub){return o("v-list-item",{key:sub.start,staticClass:"sub-item"},[o("div",{on:{mouseenter:function(t){return e.setTime(sub.start)}}},[e._v("\n                "+e._s(sub.text)+"\n              ")])])}),1):e._e()],1)],1),e._v(" "),o("v-col")],1),e._v(" "),o("v-row",{},[o("v-col",{attrs:{sm:"8",xs:"12"}},[o("video",{ref:"videoPlayer",staticClass:"video-js vjs-default-skin",attrs:{id:"videoPlayer"}},[o("source",{attrs:{src:"/cl/api/docker/hls/"+e.videoId+"/video,720p.mp4,.urlset/master.m3u8",type:"application/x-mpegURL"}}),e._v(" "),o("track",{attrs:{kind:"subtitle",src:"/cl/api/docker/videos/"+e.videoId+"/"+e.lang+".vtt",srclang:e.lang,label:e.lang,default:""}}),e._v(" "),o("track",{attrs:{kind:"subtitle",src:"/cl/api/docker/videos/"+e.videoId+"/ja.vtt",srclang:"ja",label:"ja"}}),e._v(" "),o("track",{attrs:{kind:"subtitle",src:"/cl/api/docker/videos/"+e.videoId+"/th.vtt",srclang:"th",label:"th"}})])]),e._v(" "),o("v-col",{staticClass:"wordcloud-container",attrs:{sm:"4",xs:"12"}},[o("v-label",[e._v("Word Cloud")]),e._v(" "),o("no-ssr",{attrs:{placeholder:"Loading..."}},[o("Wordcloud",{attrs:{words:e.words}})],1)],1)],1),e._v(" "),o("v-row",[o("v-col",[o("Summary",{attrs:{"sum-sizes":[.2,.4,.6,.8],fwl:e.video_data.en.fwl,texts:e.video_data.en.sum}})],1)],1)],1)],1)},[],!1,null,null,null);t.default=F.exports;h()(F,{VApp:O.a,VAutocomplete:E.a,VCol:D.a,VContainer:M.a,VExpandTransition:A.a,VLabel:w.a,VList:P.a,VListItem:B.a,VRow:R.a})}}]);